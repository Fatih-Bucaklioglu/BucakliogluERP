<Page x:Class="BucakliogluERP.Views.MuhasebePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Muhasebe"
      Background="Transparent">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">
            <TextBlock Text="Muhasebe & Raporlar" 
                      FontSize="28" 
                      FontWeight="Bold"
                      Foreground="#2C3E50"
                      Margin="0,0,0,30"/>

            <!-- Özet Kartlar -->
            <Grid Margin="0,0,0,30">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Border Grid.Column="0" 
                        Background="White" 
                        CornerRadius="10" 
                        Padding="30"
                        Margin="0,0,15,0">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="📈" FontSize="40" Margin="0,0,0,10"/>
                        <TextBlock Text="Toplam Gelir" 
                                  FontSize="16" 
                                  Foreground="#6C757D"/>
                        <TextBlock x:Name="txtToplamGelir" 
                                  Text="0,00 ₺" 
                                  FontSize="32" 
                                  FontWeight="Bold"
                                  Foreground="#28A745"
                                  Margin="0,10,0,0"/>
                        <TextBlock x:Name="txtSiparisSayisi" 
                                  Text
                                   Text="0 sipariş" 
                                  FontSize="13" 
                                  Foreground="#6C757D"
                                  Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>

                <Border Grid.Column="1" 
                        Background="White" 
                        CornerRadius="10" 
                        Padding="30"
                        Margin="0,0,15,0">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="💰" FontSize="40" Margin="0,0,0,10"/>
                        <TextBlock Text="Tahsil Edilmemiş" 
                                  FontSize="16" 
                                  Foreground="#6C757D"/>
                        <TextBlock x:Name="txtTahsilEdilmemis" 
                                  Text="0,00 ₺" 
                                  FontSize="32" 
                                  FontWeight="Bold"
                                  Foreground="#DC3545"
                                  Margin="0,10,0,0"/>
                        <TextBlock x:Name="txtBorcluMusteri" 
                                  Text="0 müşteri" 
                                  FontSize="13" 
                                  Foreground="#6C757D"
                                  Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>

                <Border Grid.Column="2" 
                        Background="White" 
                        CornerRadius="10" 
                        Padding="30">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="📅" FontSize="40" Margin="0,0,0,10"/>
                        <TextBlock Text="Bu Ay" 
                                  FontSize="16" 
                                  Foreground="#6C757D"/>
                        <TextBlock x:Name="txtBuAy" 
                                  Text="0,00 ₺" 
                                  FontSize="32" 
                                  FontWeight="Bold"
                                  Foreground="#3498DB"
                                  Margin="0,10,0,0"/>
                        <TextBlock Text="Aylık satış" 
                                  FontSize="13" 
                                  Foreground="#6C757D"
                                  Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Son İşlemler -->
            <Border Background="White" 
                    CornerRadius="10" 
                    Padding="30">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.1"/>
                </Border.Effect>

                <StackPanel>
                    <TextBlock Text="Son İşlemler" 
                              FontSize="20" 
                              FontWeight="Bold"
                              Margin="0,0,0,20"/>

                    <ItemsControl x:Name="lstSonIslemler">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="#DEE2E6" 
                                       BorderThickness="0,0,0,1" 
                                       Padding="15,10">
                                    <Grid>
                                        <StackPanel>
                                            <TextBlock Text="{Binding SiparisNo}" 
                                                      FontWeight="Bold"
                                                      FontSize="15"/>
                                            <TextBlock Foreground="#6C757D" 
                                                      FontSize="13"
                                                      Margin="0,3,0,0">
                                                <Run Text="{Binding MusteriAdi}"/>
                                                <Run Text=" - "/>
                                                <Run Text="{Binding Tarih, StringFormat=dd.MM.yyyy}"/>
                                            </TextBlock>
                                        </StackPanel>
                                        <TextBlock Text="{Binding GenelToplam, StringFormat={}{0:N2} ₺}" 
                                                  FontSize="18" 
                                                  FontWeight="Bold"
                                                  Foreground="#27AE60"
                                                  HorizontalAlignment="Right"
                                                  VerticalAlignment="Center"/>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Page>