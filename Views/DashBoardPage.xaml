<Page x:Class="BucakliogluERP.Views.DashboardPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Dashboard"
      Background="Transparent">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">
            <Grid Margin="0,0,0,30">
                <StackPanel>
                    <TextBlock Text="Hoş Geldiniz!" 
                              FontSize="28" 
                              FontWeight="Bold"
                              Foreground="#2C3E50"/>
                    <TextBlock x:Name="txtTarihSaat" 
                              FontSize="14" 
                              Foreground="#6C757D"
                              Margin="0,5,0,0"/>
                </StackPanel>
            </Grid>

            <!-- Hızlı İstatistikler -->
            <Grid Margin="0,0,0,30">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Bugünkü Siparişler -->
                <Border Grid.Column="0" 
                        Background="White" 
                        CornerRadius="15" 
                        Padding="25"
                        Margin="0,0,15,0"
                        Cursor="Hand"
                        MouseLeftButtonDown="BugunSiparisler_Click">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="15" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="📋" FontSize="40" Margin="0,0,0,10"/>
                        <TextBlock Text="Bugünkü Siparişler" FontSize="13" Foreground="#6C757D"/>
                        <TextBlock x:Name="txtBugunSiparis" 
                                  Text="0" 
                                  FontSize="36" 
                                  FontWeight="Bold"
                                  Foreground="#3498DB"
                                  Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Bugünkü Ciro -->
                <Border Grid.Column="1" 
                        Background="White" 
                        CornerRadius="15" 
                        Padding="25"
                        Margin="0,0,15,0">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="15" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="💰" FontSize="40" Margin="0,0,0,10"/>
                        <TextBlock Text="Bugünkü Ciro" FontSize="13" Foreground="#6C757D"/>
                        <TextBlock x:Name="txtBugunCiro" 
                                  Text="0,00 ₺" 
                                  FontSize="32" 
                                  FontWeight="Bold"
                                  Foreground="#28A745"
                                  Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Bekleyen Tahsilat -->
                <Border Grid.Column="2" 
                        Background="White" 
                        CornerRadius="15" 
                        Padding="25"
                        Margin="0,0,15,0"
                        Cursor="Hand"
                        MouseLeftButtonDown="BekleyenTahsilat_Click">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="15" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="⏱️" FontSize="40" Margin="0,0,0,10"/>
                        <TextBlock Text="Bekleyen Tahsilat" FontSize="13" Foreground="#6C757D"/>
                        <TextBlock x:Name="txtBekleyenTahsilat" 
                                  Text="0,00 ₺" 
                                  FontSize="32" 
                                  FontWeight="Bold"
                                  Foreground="#DC3545"
                                  Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Aktif Müşteriler -->
                <Border Grid.Column="3" 
                        Background="White" 
                        CornerRadius="15" 
                        Padding="25">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="15" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>
                    <StackPanel>
                        <TextBlock Text="👥" FontSize="40" Margin="0,0,0,10"/>
                        <TextBlock Text="Aktif Müşteriler" FontSize="13" Foreground="#6C757D"/>
                        <TextBlock x:Name="txtAktifMusteri" 
                                  Text="0" 
                                  FontSize="36" 
                                  FontWeight="Bold"
                                  Foreground="#9C27B0"
                                  Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Alt Bölüm -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Son Siparişler -->
                <Border Grid.Column="0" 
                        Background="White" 
                        CornerRadius="15" 
                        Padding="25"
                        Margin="0,0,15,0">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="15" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>

                    <StackPanel>
                        <TextBlock Text="Son Siparişler" 
                                  FontSize="18" 
                                  FontWeight="Bold"
                                  Margin="0,0,0,20"/>

                        <ScrollViewer Height="400" VerticalScrollBarVisibility="Auto">
                            <ItemsControl x:Name="lstSonSiparisler">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Background="#F8F9FA" 
                                               CornerRadius="8" 
                                               Padding="15" 
                                               Margin="0,0,0,10"
                                               Cursor="Hand">
                                            <Grid>
                                                <StackPanel>
                                                    <TextBlock Text="{Binding SiparisNo}" 
                                                              FontWeight="Bold" 
                                                              FontSize="14"/>
                                                    <TextBlock Foreground="#6C757D" 
                                                              FontSize="12"
                                                              Margin="0,3,0,0">
                                                        <Run Text="{Binding MusteriAdi}"/>
                                                        <Run Text=" - "/>
                                                        <Run Text="{Binding Tarih, StringFormat=dd.MM.yyyy HH:mm}"/>
                                                    </TextBlock>
                                                </StackPanel>
                                                <TextBlock Text="{Binding GenelToplam, StringFormat={}{0:N2} ₺}" 
                                                          FontSize="16" 
                                                          FontWeight="Bold"
                                                          Foreground="#28A745"
                                                          HorizontalAlignment="Right"
                                                          VerticalAlignment="Center"/>
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                    </StackPanel>
                </Border>

                <!-- Hızlı Erişim -->
                <Border Grid.Column="1" 
                        Background="White" 
                        CornerRadius="15" 
                        Padding="25">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="15" ShadowDepth="2" Opacity="0.1"/>
                    </Border.Effect>

                    <StackPanel>
                        <TextBlock Text="Hızlı Erişim" 
                                  FontSize="18" 
                                  FontWeight="Bold"
                                  Margin="0,0,0,20"/>

                        <Button Content="➕ Yeni Sipariş" 
                               Click="YeniSiparis_Click"
                               Style="{StaticResource HizliErisimButon}"/>

                        <Button Content="💰 Cari Hesap" 
                               Click="CariHesap_Click"
                               Style="{StaticResource HizliErisimButon}"/>

                        <Button Content="📊 Raporlar" 
                               Click="Raporlar_Click"
                               Style="{StaticResource HizliErisimButon}"/>

                        <Button Content="⚙️ Ayarlar" 
                               Click="Ayarlar_Click"
                               Style="{StaticResource HizliErisimButon}"/>
                    </StackPanel>
                </Border>
            </Grid>
        </StackPanel>
    </ScrollViewer>

    <Page.Resources>
        <Style x:Key="HizliErisimButon" TargetType="Button">
            <Setter Property="Background" Value="#F8F9FA"/>
            <Setter Property="Foreground" Value="#2C3E50"/>
            <Setter Property="Padding" Value="15"/>
            <Setter Property="Margin" Value="0,0,0,10"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
    </Page.Resources>
</Page>