<Window x:Class="BucakliogluERP.Views.SiparisDetayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Sipariş Detayı" 
        Height="600" 
        Width="800"
        WindowStartupLocation="CenterOwner"
        Background="#F5F5F5">

    <Grid Margin="20">
        <Border Background="White" 
                CornerRadius="10" 
                Padding="30">
            <Border.Effect>
                <DropShadowEffect BlurRadius="15" ShadowDepth="2" Opacity="0.2"/>
            </Border.Effect>

            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <Grid Margin="0,0,0,20">
                        <TextBlock x:Name="txtSiparisNo" 
                                  Text="Sipariş No" 
                                  FontSize="24" 
                                  FontWeight="Bold"
                                  Foreground="#2C3E50"/>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                            <Button Content="📄 PDF" 
                                   Click="PdfExport_Click"
                                   Background="#3498DB"
                                   Foreground="White"
                                   Padding="12,6"
                                   Margin="0,0,10,0"
                                   BorderThickness="0"/>

                            <Button Content="📊 Excel" 
                                   Click="ExcelExport_Click"
                                   Background="#28A745"
                                   Foreground="White"
                                   Padding="12,6"
                                   Margin="0,0,10,0"
                                   BorderThickness="0"/>

                            <Button Content="🖨️ Yazdır" 
                                   Click="Yazdir_Click"
                                   Background="#6C757D"
                                   Foreground="White"
                                   Padding="12,6"
                                   BorderThickness="0"/>
                        </StackPanel>
                    </Grid>

                    <Grid Margin="0,0,0,20">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Margin="0,0,20,0">
                            <TextBlock Text="Müşteri Bilgileri" FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                            <TextBlock x:Name="txtMusteri" TextWrapping="Wrap"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Sipariş Bilgileri" FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                            <TextBlock x:Name="txtTarih" TextWrapping="Wrap"/>
                        </StackPanel>
                    </Grid>

                    <DataGrid x:Name="dgUrunler" 
                             AutoGenerateColumns="False"
                             IsReadOnly="True"
                             HeadersVisibility="Column"
                             GridLinesVisibility="Horizontal"
                             RowHeight="35"
                             FontSize="13"
                             Margin="0,0,0,20">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Kategori" Binding="{Binding Kategori}" Width="*"/>
                            <DataGridTextColumn Header="Ürün" Binding="{Binding Ebat}" Width="2*"/>
                            <DataGridTextColumn Header="Miktar" Binding="{Binding Miktar, StringFormat=N2}" Width="*"/>
                            <DataGridTextColumn Header="Birim Fiyat" Binding="{Binding BirimFiyat, StringFormat={}{0:N2} ₺}" Width="*"/>
                            <DataGridTextColumn Header="Toplam" Binding="{Binding Tutar, StringFormat={}{0:N2} ₺}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <Border Background="#F8F9FA" CornerRadius="8" Padding="20" HorizontalAlignment="Right" Width="350">
                        <StackPanel>
                            <Grid Margin="0,0,0,8">
                                <TextBlock Text="Ara Toplam:"/>
                                <TextBlock x:Name="txtAraToplam" HorizontalAlignment="Right" FontWeight="SemiBold"/>
                            </Grid>
                            <Grid Margin="0,0,0,8">
                                <TextBlock Text="KDV (%20):"/>
                                <TextBlock x:Name="txtKDV" HorizontalAlignment="Right" FontWeight="SemiBold"/>
                            </Grid>
                            <Separator Margin="0,8"/>
                            <Grid>
                                <TextBlock Text="GENEL TOPLAM:" FontSize="16" FontWeight="Bold"/>
                                <TextBlock x:Name="txtGenelToplam" 
                                          FontSize="18" 
                                          FontWeight="Bold" 
                                          Foreground="#28A745"
                                          HorizontalAlignment="Right"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <Button Content="Kapat" 
                           Click="Kapat_Click"
                           Background="#6C757D"
                           Foreground="White"
                           Padding="30,10"
                           BorderThickness="0"
                           HorizontalAlignment="Center"
                           Margin="0,20,0,0"
                           FontWeight="SemiBold"/>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>